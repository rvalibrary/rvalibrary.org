//
// v3


(function() {
	var _mosio_popout_url = 'https://chat.mosio.com/par/chat/new_chat/mb3505';
	var _is_literati = 0;
	var _params = {"tab_url":"https:\/\/9826e3916e43c62be1f9-7eb285c8c80cad365ec80c3238ae427f.ssl.cf2.rackcdn.com\/xenijohelina","tab_width":"40px","tab_height":"160px","tab_top":"18%","tab_bottom":"auto","tab_left":"auto","tab_right":"-40px","html":"\t<div id=\"mosio_widget_tab\" class=\"mosio_patron_tab\"><\/div>\n"};
  const _svg = `<svg id="mosio_widget_tab" viewBox="0 0 58 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="58" height="160" fill="#E5E5E5"/>
<rect width="58" height="160" fill="#FF7236"/>
<g filter="url(#filter0_d)">
<path d="M17.6241 18.8149L21.606 17.4375L21.6725 11.9789L17.7249 10.5343L17.7549 8.07352L32.0247 13.5894L31.9938 16.1283L17.5939 21.2952L17.6241 18.8149ZM23.6251 16.8468L27.5278 15.5563C27.7894 15.4618 28.2012 15.3301 28.7632 15.1611C29.3251 14.9987 29.7366 14.8865 29.9978 14.8246C29.1992 14.6391 28.3268 14.3713 27.3805 14.0212L23.6757 12.6869L23.6251 16.8468ZM20.5616 30.2285C19.507 30.2156 18.7012 29.8217 18.1442 29.0466C17.5937 28.2716 17.3271 27.168 17.3446 25.7358C17.3621 24.2972 17.5942 23.1443 18.041 22.2773L20.0233 22.3014C19.4219 23.5637 19.1146 24.7417 19.1013 25.8354C19.0841 27.248 19.5019 27.9595 20.3547 27.9699C20.6281 27.9732 20.8569 27.8979 21.0411 27.7439C21.2253 27.5899 21.4172 27.335 21.6169 26.9793C21.8165 26.6237 22.0439 26.1284 22.2991 25.4934C22.7959 24.2559 23.2879 23.4187 23.775 22.9819C24.2621 22.5516 24.8897 22.3411 25.6579 22.3504C26.5823 22.3617 27.2939 22.7415 27.7926 23.4898C28.2978 24.2447 28.5425 25.2634 28.5269 26.5458C28.5115 27.8153 28.2397 29.0132 27.7117 30.1397L25.9923 29.3765C26.4882 28.2171 26.741 27.2403 26.7507 26.4461C26.7654 25.2352 26.4278 24.6256 25.7377 24.6172C25.3992 24.6131 25.1109 24.7658 24.8727 25.0755C24.6344 25.3916 24.3038 26.0777 23.8808 27.1339C23.5249 28.0215 23.2013 28.6654 22.9099 29.0655C22.6186 29.4657 22.2829 29.7611 21.903 29.9518C21.5295 30.1426 21.0824 30.2348 20.5616 30.2285ZM23.1311 34.9671L24.7362 36.2856L28.1729 39.5894L28.1406 42.2357L23.5552 37.8338L17.3373 42.3776L17.3701 39.6825L22.1483 36.2736L21.1286 35.0013L17.4277 34.9563L17.4554 32.6811L32.6495 32.866L32.6219 35.1412L25.2103 35.051L23.1318 34.9085L23.1311 34.9671ZM17.1706 56.0778L18.68 55.6371L18.6809 55.559C18.0298 55.0302 17.5869 54.5007 17.3525 53.9705C17.1246 53.4403 17.0156 52.7618 17.0257 51.9351C17.0386 50.874 17.3351 50.0474 17.9153 49.4555C18.4954 48.8701 19.3095 48.5837 20.3576 48.5965C21.4708 48.61 22.3055 49.0336 22.8618 49.8673C23.4181 50.7009 23.712 51.9644 23.7435 53.6576L23.7794 55.5234L24.3555 55.5304C25.0456 55.5388 25.5618 55.3823 25.9043 55.0609C26.2532 54.7462 26.4318 54.2502 26.44 53.5732C26.4468 53.0199 26.3719 52.4883 26.2153 51.9786C26.0587 51.4688 25.8726 50.9782 25.657 50.5068L27.3065 49.7847C27.6054 50.3743 27.8287 51.0183 27.9764 51.7168C28.1307 52.4153 28.2041 53.0738 28.1965 53.6923C28.1798 55.0659 27.8678 56.0973 27.2604 56.7866C26.6529 57.4823 25.7079 57.8224 24.4255 57.8068L17.1506 57.7183L17.1706 56.0778ZM18.7746 52.6791C18.7644 53.5123 18.9874 54.1824 19.4435 54.6893C19.906 55.2028 20.5572 55.4646 21.397 55.4749L22.3344 55.4863L22.2927 54.099C22.2668 53.0178 22.0941 52.2279 21.7746 51.7292C21.4616 51.2371 20.9731 50.987 20.309 50.9789C19.8273 50.973 19.4512 51.1117 19.1809 51.3949C18.917 51.6781 18.7815 52.1062 18.7746 52.6791ZM17.0454 66.3602L31.3217 66.534L31.2933 68.8678L19.0188 68.7184L18.9453 74.7629L16.9435 74.7385L17.0454 66.3602ZM16.8885 79.2499L16.9165 76.9551L27.7165 77.0866L27.6885 79.3813L16.8885 79.2499ZM30.5792 76.9847C30.9894 76.9897 31.3037 77.1042 31.5224 77.3282C31.741 77.5588 31.8477 77.8824 31.8426 78.299C31.8377 78.7026 31.7232 79.0137 31.4992 79.2324C31.2751 79.4575 30.958 79.5676 30.5479 79.5626C30.1573 79.5579 29.8494 79.4402 29.6244 79.2096C29.4057 78.9855 29.2988 78.6717 29.3038 78.2681C29.3088 77.8515 29.4234 77.5306 29.6475 77.3054C29.8781 77.0869 30.1886 76.9799 30.5792 76.9847ZM27.7766 88.1917C27.7602 89.5392 27.2592 90.5814 26.2736 91.3181C25.2879 92.0614 23.913 92.4223 22.1488 92.4008C20.3781 92.3793 19.0026 91.9816 18.0224 91.2079C17.0487 90.4343 16.57 89.3705 16.5865 88.0164C16.6032 86.6493 17.1076 85.5942 18.0998 84.851L18.1017 84.6947L16.8276 84.2593L16.8485 82.5407L32.0427 82.7256L32.0147 85.0203L28.4017 84.9764C28.1348 84.9731 27.7379 84.9553 27.2109 84.9228C26.6839 84.8904 26.3489 84.8667 26.2058 84.852L26.2046 84.9496C27.2699 85.6918 27.7939 86.7725 27.7766 88.1917ZM25.909 87.5732C25.9203 86.6488 25.655 85.9782 25.1131 85.5614C24.5777 85.1512 23.6721 84.9318 22.3963 84.9033L22.2401 84.9014C20.9251 84.8854 19.9688 85.0821 19.3714 85.4915C18.7804 85.901 18.4792 86.5777 18.4677 87.5217C18.4578 88.3354 18.7725 88.9545 19.4119 89.379C20.0513 89.81 20.9796 90.0329 22.197 90.0477C24.6512 90.0776 25.8886 89.2527 25.909 87.5732ZM27.6254 100.613C27.6198 101.075 27.5826 101.455 27.5139 101.754L25.3781 101.503C25.4602 101.179 25.5034 100.841 25.5076 100.489C25.5188 99.5713 25.2284 98.8222 24.6365 98.2421C24.0445 97.6684 23.27 97.3758 22.313 97.3641L16.6689 97.2954L16.6968 95.0007L27.4968 95.1321L27.4749 96.9289L25.5671 97.2084L25.5657 97.3256C26.2058 97.6915 26.7112 98.1631 27.0818 98.7406C27.4523 99.3246 27.6335 99.9486 27.6254 100.613ZM16.5095 110.39L18.0189 109.95L18.0199 109.871C17.3687 109.343 16.9259 108.813 16.6914 108.283C16.4635 107.753 16.3546 107.074 16.3646 106.247C16.3775 105.186 16.6741 104.36 17.2542 103.768C17.8343 103.182 18.6484 102.896 19.6965 102.909C20.8097 102.922 21.6445 103.346 22.2008 104.18C22.7571 105.013 23.051 106.277 23.0824 107.97L23.1183 109.836L23.6945 109.843C24.3845 109.851 24.9008 109.695 25.2432 109.373C25.5922 109.059 25.7707 108.563 25.779 107.886C25.7857 107.332 25.7108 106.801 25.5542 106.291C25.3977 105.781 25.2116 105.291 24.9959 104.819L26.6455 104.097C26.9443 104.687 27.1676 105.331 27.3154 106.029C27.4696 106.728 27.543 107.386 27.5355 108.005C27.5187 109.378 27.2067 110.41 26.5993 111.099C25.9918 111.795 25.0469 112.135 23.7644 112.119L16.4896 112.031L16.5095 110.39ZM18.1135 106.991C18.1034 107.825 18.3263 108.495 18.7824 109.002C19.245 109.515 19.8961 109.777 20.7359 109.787L21.6734 109.799L21.6316 108.411C21.6057 107.33 21.433 106.54 21.1136 106.042C20.8005 105.549 20.312 105.299 19.648 105.291C19.1662 105.285 18.7902 105.424 18.5198 105.707C18.2559 105.991 18.1205 106.419 18.1135 106.991ZM27.3792 120.845C27.3735 121.308 27.3364 121.688 27.2676 121.987L25.1318 121.736C25.2139 121.412 25.2571 121.074 25.2614 120.722C25.2726 119.804 24.9822 119.055 24.3902 118.475C23.7982 117.901 23.0237 117.609 22.0668 117.597L16.4226 117.528L16.4506 115.234L27.2506 115.365L27.2287 117.162L25.3208 117.441L25.3194 117.558C25.9595 117.924 26.4649 118.396 26.8355 118.973C27.206 119.557 27.3873 120.181 27.3792 120.845ZM16.3176 126.16L16.3455 123.866L27.1455 123.997L27.1176 126.292L16.3176 126.16ZM30.0083 123.895C30.4184 123.9 30.7328 124.015 30.9514 124.239C31.17 124.469 31.2767 124.793 31.2717 125.21C31.2667 125.613 31.1523 125.924 30.9282 126.143C30.7041 126.368 30.387 126.478 29.9769 126.473C29.5863 126.468 29.2785 126.351 29.0534 126.12C28.8347 125.896 28.7279 125.582 28.7328 125.179C28.7379 124.762 28.8524 124.441 29.0766 124.216C29.3071 123.997 29.6177 123.891 30.0083 123.895ZM16.1953 136.209L17.7047 135.768L17.7056 135.69C17.0544 135.161 16.6116 134.631 16.3772 134.101C16.1492 133.571 16.0403 132.893 16.0504 132.066C16.0633 131.005 16.3598 130.178 16.94 129.586C17.5201 129.001 18.3342 128.715 19.3823 128.727C20.4955 128.741 21.3302 129.164 21.8865 129.998C22.4428 130.832 22.7367 132.095 22.7682 133.788L22.8041 135.654L23.3802 135.661C24.0703 135.67 24.5865 135.513 24.929 135.192C25.2779 134.877 25.4565 134.381 25.4647 133.704C25.4715 133.151 25.3965 132.619 25.24 132.109C25.0834 131.6 24.8973 131.109 24.6817 130.638L26.3312 129.915C26.63 130.505 26.8533 131.149 27.0011 131.848C27.1554 132.546 27.2287 133.205 27.2212 133.823C27.2045 135.197 26.8924 136.228 26.2851 136.917C25.6776 137.613 24.7326 137.953 23.4502 137.938L16.1753 137.849L16.1953 136.209ZM17.7993 132.81C17.7891 133.643 18.0121 134.313 18.4682 134.82C18.9307 135.334 19.5819 135.595 20.4217 135.606L21.3591 135.617L21.3174 134.23C21.2915 133.149 21.1188 132.359 20.7993 131.86C20.4863 131.368 19.9977 131.118 19.3337 131.11C18.852 131.104 18.4759 131.242 18.2055 131.526C17.9417 131.809 17.8062 132.237 17.7993 132.81ZM16.0207 150.553L16.0487 148.249L22.6889 148.329C23.5221 148.34 24.1459 148.178 24.5601 147.844C24.9743 147.517 25.1858 146.989 25.1947 146.26C25.2065 145.29 24.9287 144.577 24.3613 144.121C23.7939 143.665 22.8364 143.429 21.4889 143.412L16.1084 143.347L16.1363 141.052L26.9363 141.183L26.9144 142.98L25.4946 143.285L25.4932 143.402C26.0035 143.734 26.395 144.201 26.6676 144.803C26.9403 145.406 27.0721 146.071 27.0633 146.801C27.0317 149.392 25.6977 150.671 23.0612 150.639L16.0207 150.553Z" fill="white"/>
</g>
<defs>
<filter id="filter0_d" x="6.02068" y="0.0735168" width="32.6289" height="158.566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
<feOffset dx="-2"/>
<feGaussianBlur stdDeviation="4"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
</filter>
</defs>
</svg>`;


	addHtml(_svg);

	// add click handler and custom styling
	var tab_elem = document.getElementById('mosio_widget_tab');
	if (tab_elem) {
		// add handler to tab to open new window on click
		tab_elem.onclick = mosio_tab_click;

		if (typeof _params.tab_url !== 'undefined' && _params.tab_url.length) {
			// custom tab

			tab_elem.style.width           = _params.tab_width;
			tab_elem.style.height          = _params.tab_height;
			tab_elem.style.top             = _params.tab_top;
			tab_elem.style.bottom          = _params.tab_bottom;
			tab_elem.style.left            = _params.tab_left;
			tab_elem.style.right           = _params.tab_right;

      setTimeout(() => {
        tab_elem.classList.add('show')
      }, 300);

		}
		else {
			// default tab
			// tab_elem.style.backgroundImage = 'url(https://9826e3916e43c62be1f9-7eb285c8c80cad365ec80c3238ae427f.ssl.cf2.rackcdn.com/tab_aaq2.png)';

			// look for custom placement
			if (typeof _params.tab_top !== 'undefined' && _params.tab_top.length) {
				tab_elem.style.top             = _params.tab_top;
				tab_elem.style.bottom          = _params.tab_bottom;
				tab_elem.style.left            = _params.tab_left;
				tab_elem.style.right           = "-10px";
			}
		}

		if (_is_literati) {
			tab_elem.style.top = '10%';
		}
	}


	/**
	* new popout chat
	*/
	function mosio_tab_click() {
		mosio_chat_window = window.open(_mosio_popout_url,'mosio_chat','height=430,width=510,scrollbars=1');
		if (window.focus) {
			mosio_chat_window.focus();
		}
		return false;
	}


	/**
	* Add an html string to the widget container
	*/
	function addHtml(new_html) {
		if ('______array' == new_html) {
			// ignore ______array marker ([].toString())
			return;
		}

		// append html
		var container = document.getElementById('mosio-widget-container');
		if (container) {
			container.innerHTML = new_html;
      console.log('here');
		}
		else {
			// create the mosio-widget-container element
			var wc = document.createElement('div');
			wc.setAttribute('id', 'mosio-widget-container');
			wc.innerHTML = new_html;
			document.body.appendChild(wc);
		}
	}

})(); // We call our anonymous function immediately
